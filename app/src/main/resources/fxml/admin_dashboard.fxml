<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.Circle?>
<?import javafx.scene.shape.Rectangle?>
<?import javafx.scene.shape.SVGPath?>
<?import javafx.scene.shape.Line?>
<?import org.kordamp.ikonli.javafx.FontIcon?>

<BorderPane xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.DB.databaseproject.DashboardController"
            prefWidth="1400.0" prefHeight="900.0"
            maxWidth="Infinity" maxHeight="Infinity"
            styleClass="dashboard-root">
   
   <!-- LEFT SIDEBAR -->
   <left>
      <VBox styleClass="sidebar" prefWidth="230.0" spacing="5">
         
         <!-- Logo Section -->
         <VBox alignment="CENTER" spacing="10" styleClass="logo-section">
            <padding>
               <Insets top="20" bottom="20" />
            </padding>
            
            <!-- Logo Placeholder -->
            <StackPane styleClass="sidebar-logo-container" prefWidth="70" prefHeight="70">
               <!-- Outer Circle Background -->
               <Circle radius="35" fill="#2a2a2a"/>
               
               <!-- Main Circle with Gradient Effect -->
               <Circle radius="32" fill="#C9B06B"/>
               <Circle radius="32" fill="#E6D6A8" opacity="0.2"/>
               
               <!-- Bold Letter S -->
               <Label text="S" 
                      style="-fx-font-family: 'Arial Black', 'Impact', sans-serif; 
                             -fx-font-size: 42px; 
                             -fx-font-weight: 900; 
                             -fx-text-fill: #1a1a1a;"/>
               
               <!-- Subtle Inner Ring -->
               <Circle radius="29" fill="transparent" stroke="#1a1a1a" strokeWidth="1" opacity="0.3"/>
               
               <!-- Outer Accent Ring -->
               <Circle radius="34" fill="transparent" stroke="#E6D6A8" strokeWidth="1" opacity="0.5"/>
            </StackPane>
            
            <Label text="Stone Sales" styleClass="sidebar-brand" />
            <Label text="Admin Panel" styleClass="sidebar-subtitle" />
         </VBox>
         
         <!-- Navigation Buttons -->
         <VBox spacing="8" styleClass="nav-container">
            <padding>
               <Insets top="20" left="15" right="15" />
            </padding>
            
            <Button fx:id="dashboardBtn" text="Dashboard" 
                    styleClass="nav-button,selected" 
                    maxWidth="Infinity" 
                    onAction="#showDashboard">
               <graphic>
                  <FontIcon iconLiteral="fas-tachometer-alt" iconSize="16" styleClass="nav-icon" />
               </graphic>
            </Button>
            
            <Button fx:id="employeesBtn" text="Employees" 
                    styleClass="nav-button" 
                    maxWidth="Infinity" 
                    onAction="#showEmployees">
               <graphic>
                  <FontIcon iconLiteral="fas-users" iconSize="16" styleClass="nav-icon" />
               </graphic>
            </Button>
            
            <Button fx:id="customersBtn" text="Customers" 
                    styleClass="nav-button" 
                    maxWidth="Infinity" 
                    onAction="#showCustomers">
               <graphic>
                  <FontIcon iconLiteral="fas-user" iconSize="16" styleClass="nav-icon" />
               </graphic>
            </Button>
            
            <Button fx:id="stonesBtn" text="Stones" 
                    styleClass="nav-button" 
                    maxWidth="Infinity" 
                    onAction="#showStones">
               <graphic>
                  <FontIcon iconLiteral="fas-gem" iconSize="16" styleClass="nav-icon" />
               </graphic>
            </Button>
            
            <Button fx:id="ordersBtn" text="Orders" 
                    styleClass="nav-button" 
                    maxWidth="Infinity" 
                    onAction="#showOrders">
               <graphic>
                  <FontIcon iconLiteral="fas-clipboard-list" iconSize="16" styleClass="nav-icon" />
               </graphic>
            </Button>
            
            <Button fx:id="customOrdersBtn" text="Custom Orders" 
                    styleClass="nav-button" 
                    maxWidth="Infinity" 
                    onAction="#showCustomOrders">
               <graphic>
                  <FontIcon iconLiteral="fas-edit" iconSize="16" styleClass="nav-icon" />
               </graphic>
            </Button>
            
            <Button fx:id="archiveBtn" text="Archive" 
                    styleClass="nav-button" 
                    maxWidth="Infinity" 
                    onAction="#showArchive">
               <graphic>
                  <FontIcon iconLiteral="fas-archive" iconSize="16" styleClass="nav-icon" />
               </graphic>
            </Button>
            
            <!-- Generate Report Button -->
            <Button fx:id="generateReportBtn" text="Generate Report" 
                    styleClass="btn-generate-report" 
                    maxWidth="Infinity" 
                    onAction="#handleGenerateReport">
               <graphic>
                  <FontIcon iconLiteral="fas-chart-line" iconSize="16" styleClass="nav-icon-report" />
               </graphic>
            </Button>
         </VBox>
         
         <!-- Spacer -->
         <VBox VBox.vgrow="ALWAYS" />
         
         <!-- Logout Button at Bottom -->
         <VBox spacing="8">
            <padding>
               <Insets bottom="20" left="15" right="15" />
            </padding>
            
            <Button fx:id="logoutBtn" text="Logout" 
                    styleClass="nav-button,logout-button" 
                    maxWidth="Infinity" 
                    onAction="#handleLogout">
               <graphic>
                  <FontIcon iconLiteral="fas-sign-out-alt" iconSize="16" styleClass="nav-icon-logout" />
               </graphic>
            </Button>
         </VBox>
         
      </VBox>
   </left>
   
   <!-- CENTER CONTENT AREA -->
   <center>
      <StackPane fx:id="contentArea" styleClass="content-area">
         
         <!-- Default Welcome View with Quick Lookup -->
         <VBox alignment="TOP_CENTER" spacing="20" fx:id="welcomeView" styleClass="welcome-container">
            
            <!-- Quick Lookup Section -->
            <VBox alignment="CENTER" spacing="15" styleClass="quick-lookup-section" maxWidth="900">
               <padding>
                  <Insets top="30" bottom="20" left="20" right="20" />
               </padding>
               
               <!-- Title -->
               <Label text="Quick Lookup" styleClass="quick-lookup-title" />
               <Label text="Search for Orders, Employees, or Stones" styleClass="quick-lookup-subtitle" />
               
               <!-- Search Controls -->
               <HBox alignment="CENTER" spacing="15" styleClass="search-controls">
                  <ComboBox fx:id="searchModeCombo" prefWidth="150" styleClass="search-combo" promptText="Select Mode" />
                  <TextField fx:id="searchField" prefWidth="350" styleClass="search-field" promptText="Enter search term..." />
                  <Button fx:id="searchBtn" text="Search" styleClass="btn-search" onAction="#handleSearch">
                     <graphic>
                        <FontIcon iconLiteral="fas-search" iconSize="14" />
                     </graphic>
                  </Button>
                  <Button fx:id="clearBtn" text="Clear" styleClass="btn-clear" onAction="#handleClear">
                     <graphic>
                        <FontIcon iconLiteral="fas-times" iconSize="14" />
                     </graphic>
                  </Button>
               </HBox>
               
               <!-- Results Container with ScrollPane -->
               <ScrollPane styleClass="results-scroll-pane" fitToWidth="true" maxHeight="500">
                  <VBox spacing="15">
                     <!-- Result Card -->
                     <VBox fx:id="resultCard" styleClass="result-card" spacing="10" managed="false" visible="false">
                        <padding>
                           <Insets top="20" bottom="20" left="20" right="20" />
                        </padding>
                        <!-- Dynamic labels will be added here by controller -->
                     </VBox>
                     
                     <!-- Results Table -->
                     <TableView fx:id="resultsTable" styleClass="results-table" managed="false" visible="false">
                        <!-- Columns will be dynamically created by controller -->
                     </TableView>
                  </VBox>
               </ScrollPane>
            </VBox>
            
            <!-- Welcome Text (below Quick Lookup) -->
            <VBox alignment="CENTER" spacing="15">
               <Label text="Welcome Admin" styleClass="welcome-title" />
               <Label text="Stone Sales Management System" styleClass="welcome-subtitle" />
               <Label text="Premium Dark Edition" styleClass="welcome-tagline" />
            </VBox>
            
         </VBox>
         
      </StackPane>
   </center>
   
</BorderPane>