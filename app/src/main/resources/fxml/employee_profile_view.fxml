<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.Circle?>

<VBox xmlns="http://javafx.com/javafx/21" 
      xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.DB.databaseproject.controller.EmployeeProfileController"
      alignment="TOP_LEFT" 
      spacing="25.0" 
      styleClass="view-container"
      prefWidth="-1" prefHeight="-1"
      maxWidth="Infinity" maxHeight="Infinity">
   
   <padding>
      <Insets top="30.0" right="30.0" bottom="30.0" left="30.0" />
   </padding>
   
   <!-- Title Area -->
   <VBox spacing="8">
      <Label text="My Profile" styleClass="view-title" />
      <Label text="Details about your account" styleClass="view-subtitle" />
   </VBox>
   
   <!-- Main Content: Two Cards Side by Side -->
   <HBox spacing="30" alignment="TOP_LEFT">
      
      <!-- LEFT CARD: Profile Photo -->
      <VBox alignment="TOP_CENTER" 
            spacing="20" 
            styleClass="profile-photo-card"
            prefWidth="300.0" 
            minWidth="280.0">
         <padding>
            <Insets top="40.0" right="30.0" bottom="40.0" left="30.0" />
         </padding>
         
         <!-- Profile Photo with Circular Clip -->
         <VBox alignment="CENTER">
            <ImageView fx:id="profileImageView" 
                       fitWidth="180.0" 
                       fitHeight="180.0" 
                       preserveRatio="true"
                       pickOnBounds="true"
                       styleClass="profile-image">
               <clip>
                  <Circle centerX="90.0" centerY="90.0" radius="90.0" />
               </clip>
            </ImageView>
         </VBox>
         
         <!-- Name and ID Below Photo -->
         <VBox alignment="CENTER" spacing="8.0">
            <Label fx:id="nameLabel" 
                   text="Mahmoud Salameh" 
                   styleClass="profile-name-large" />
            <Label fx:id="employeeIdLabel" 
                   text="Employee ID: 2001" 
                   styleClass="profile-id-label" />
         </VBox>
         
      </VBox>
      
      <!-- RIGHT CARD: Personal Information (Scrollable) -->
      <ScrollPane fitToWidth="true" 
                  hbarPolicy="NEVER" 
                  vbarPolicy="AS_NEEDED"
                  styleClass="profile-scroll-pane"
                  prefWidth="500.0" 
                  minWidth="400.0"
                  VBox.vgrow="ALWAYS">
         <content>
            <VBox spacing="15.0" styleClass="profile-info-card">
               <padding>
                  <Insets top="30.0" right="30.0" bottom="30.0" left="30.0" />
               </padding>
               
               <!-- Card Title and Action Buttons -->
               <HBox alignment="CENTER_LEFT" spacing="15.0">
                  <Label text="PERSONAL INFORMATION" styleClass="profile-section-title" HBox.hgrow="ALWAYS" />
                  
                  <!-- Edit Profile Button (visible by default) -->
                  <Button fx:id="editButton" 
                          text="Edit Profile" 
                          styleClass="btn-edit-profile"
                          onAction="#enableEditMode" />
                  
                  <!-- Save Button (hidden by default, visible in edit mode) -->
                  <Button fx:id="saveButton" 
                          text="Save" 
                          styleClass="btn-save-profile"
                          onAction="#saveProfile"
                          visible="false"
                          managed="false" />
                  
                  <!-- Cancel Button (hidden by default, visible in edit mode) -->
                  <Button fx:id="cancelButton" 
                          text="Cancel" 
                          styleClass="btn-cancel-profile"
                          onAction="#cancelEdit"
                          visible="false"
                          managed="false" />
               </HBox>
               
               <!-- Information Fields -->
               <VBox spacing="14.0" styleClass="profile-fields-container">
                  
                  <!-- First Name -->
                  <VBox spacing="5.0">
                     <Label text="First Name" styleClass="profile-field-label" />
                     <TextField fx:id="firstNameField" 
                               promptText="First Name"
                               styleClass="profile-text-field"
                               editable="false" />
                  </VBox>
                  
                  <!-- Middle Name -->
                  <VBox spacing="5.0">
                     <Label text="Middle Name" styleClass="profile-field-label" />
                     <TextField fx:id="middleNameField" 
                               promptText="Middle Name (Optional)"
                               styleClass="profile-text-field"
                               editable="false" />
                  </VBox>
                  
                  <!-- Last Name -->
                  <VBox spacing="5.0">
                     <Label text="Last Name" styleClass="profile-field-label" />
                     <TextField fx:id="lastNameField" 
                               promptText="Last Name"
                               styleClass="profile-text-field"
                               editable="false" />
                  </VBox>
                  
                  <!-- Employee ID (Read-Only) -->
                  <VBox spacing="5.0">
                     <Label text="Employee ID" styleClass="profile-field-label" />
                     <Label fx:id="employeeIdValue" 
                            text="2001" 
                            styleClass="profile-field-value" />
                  </VBox>
                  
                  <!-- Date Hired (Read-Only) -->
                  <VBox spacing="5.0">
                     <Label text="Date Hired" styleClass="profile-field-label" />
                     <Label fx:id="dateHiredValue" 
                            text="2023-03-01" 
                            styleClass="profile-field-value" />
                  </VBox>
                  
                  <!-- Phone -->
                  <VBox spacing="5.0">
                     <Label text="Phone" styleClass="profile-field-label" />
                     <TextField fx:id="phoneField" 
                               promptText="Phone Number"
                               styleClass="profile-text-field"
                               editable="false" />
                  </VBox>
                  
                  <!-- Address (TextArea for longer content) -->
                  <VBox spacing="5.0">
                     <Label text="Address" styleClass="profile-field-label" />
                     <TextArea fx:id="addressArea" 
                              promptText="Address"
                              styleClass="profile-text-area"
                              wrapText="true"
                              prefRowCount="2"
                              maxHeight="80"
                              editable="false" />
                  </VBox>
                  
                  <!-- Department (Read-Only) -->
                  <VBox spacing="5.0">
                     <Label text="Department" styleClass="profile-field-label" />
                     <Label fx:id="departmentValue" 
                            text="Production" 
                            styleClass="profile-field-value" />
                  </VBox>
                  
                  <!-- Salary (Read-Only) -->
                  <VBox spacing="5.0">
                     <Label text="Salary" styleClass="profile-field-label" />
                     <Label fx:id="salaryValue" 
                            text="Dollar 2500.00" 
                            styleClass="profile-salary-value" />
                  </VBox>
                  
               </VBox>
               
            </VBox>
         </content>
      </ScrollPane>
      
   </HBox>
   
</VBox>
